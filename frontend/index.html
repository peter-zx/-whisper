<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Whisper å­—å¹•ç”Ÿæˆå™¨</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .upload-area { border: 2px dashed #cbd5e1; transition: all 0.3s; }
    .upload-area.drag-over { border-color: #3b82f6; background-color: #eff6ff; }
    .subtitle-line:hover { @apply bg-blue-50 cursor-pointer; }
    .history-item { @apply p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer; }
  </style>
</head>
<body class="bg-gray-50">

  <!-- Header -->
  <header class="bg-white shadow-sm py-4">
    <div class="max-w-6xl mx-auto text-center">
      <h1 class="text-2xl font-bold text-gray-900">AIGCæ•£ä¿®_ç«¹ç›¸å·¦è¾¹</h1>
      <p class="text-sm text-gray-600 mt-1">åªåˆ†äº«éªŒè¯å¯è¡Œçš„å‰æ²¿æŠ€æœ¯ï¼ˆå› ä¸ºçƒ­çˆ±æ‰€ä»¥å‘ç”µï¼‰</p>
    </div>
  </header>

  <main class="max-w-6xl mx-auto p-4 flex flex-col lg:flex-row gap-6">

    <!-- å·¦ä¾§ï¼šåŠŸèƒ½åŒº -->
    <aside class="lg:w-1/3 space-y-6">
      <section class="bg-white p-5 rounded-xl shadow">
        <h2 class="text-lg font-semibold mb-2">ğŸ“ ä¸Šä¼ éŸ³è§†é¢‘</h2>
        <p class="text-xs text-gray-500 mb-3">æ”¯æŒ MP3/MP4/WAVï¼Œâ‰¤180ç§’ï¼Œâ‰¤100MB</p>

        <div id="dropZone" class="upload-area rounded-lg p-6 text-center mb-3">
          <p class="mb-2">æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„</p>
          <button id="browseBtn" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm">
            ğŸ“‚ é€‰æ‹©æ–‡ä»¶
          </button>
          <input type="file" id="fileInput" accept="audio/*,video/*" class="hidden" />
          <p id="fileName" class="mt-2 text-sm text-gray-500"></p>
        </div>

        <div class="space-y-3 mb-4">
          <select id="modelSelect" class="w-full border rounded px-3 py-2 text-sm">
            <option value="base">Baseï¼ˆå¿«é€Ÿï¼‰</option>
            <option value="small">Small</option>
            <option value="medium">Medium</option>
            <option value="large-v3" selected>Large-v3ï¼ˆé«˜ç²¾åº¦ï¼‰</option>
          </select>
          <select id="outputLang" class="w-full border rounded px-3 py-2 text-sm">
            <option value="auto">è‡ªåŠ¨æ£€æµ‹</option>
            <option value="zh" selected>å¼ºåˆ¶ç®€ä½“ä¸­æ–‡</option>
          </select>
        </div>

        <button id="transcribeBtn" class="w-full bg-blue-600 text-white py-2.5 rounded hover:bg-blue-700 font-medium">
          â–¶ï¸ å¼€å§‹è½¬å½•
        </button>
      </section>

      <section class="bg-white p-5 rounded-xl shadow">
        <h2 class="text-lg font-semibold mb-2">ğŸ•’ æœ€è¿‘è®°å½•</h2>
        <div id="historyList" class="max-h-48 overflow-y-auto text-sm">
          <p class="text-gray-500">æš‚æ— è®°å½•</p>
        </div>
      </section>
    </aside>

    <!-- å³ä¾§ï¼šæˆæœ -->
    <section class="lg:w-2/3 bg-white p-6 rounded-xl shadow">
      <h2 class="text-lg font-semibold mb-3">ğŸ“º è¯†åˆ«æˆæœ</h2>

      <div id="processingMsg" class="text-center py-8 text-gray-500 hidden">
        æ­£åœ¨å¤„ç†ï¼Œè¯·ç¨å€™...
      </div>

      <div id="resultContainer" class="hidden">
        <div class="mb-3 flex justify-between items-center">
          <span class="text-sm text-gray-500">ç‚¹å‡»å­—å¹•å¯è·³è½¬æ’­æ”¾</span>
          <button id="copyAllBtn" class="text-sm text-blue-600 hover:underline">ğŸ“‹ å¤åˆ¶å…¨éƒ¨</button>
        </div>
        <div id="subtitlesDisplay" class="bg-gray-50 p-4 rounded max-h-[60vh] overflow-y-auto font-mono text-sm"></div>

        <div class="mt-4">
          <h3 class="font-medium mb-2">ğŸ“¥ å­—å¹•ä¸‹è½½</h3>
          <div class="flex gap-2">
            <button data-fmt="srt" class="download-btn bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded text-sm">SRT</button>
            <button data-fmt="txt" class="download-btn bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded text-sm">TXT</button>
            <button data-fmt="vtt" class="download-btn bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded text-sm">VTT</button>
            <button data-fmt="json" class="download-btn bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded text-sm">JSON</button>
          </div>
        </div>
      </div>

      <div id="placeholder" class="text-center py-12 text-gray-500">
        ä¸Šä¼ æ–‡ä»¶å¹¶ç‚¹å‡»â€œå¼€å§‹è½¬å½•â€ä»¥ç”Ÿæˆå­—å¹•
      </div>
    </section>

  </main>

  <div id="adPopup" class="fixed bottom-4 right-4 bg-white shadow-lg rounded-lg p-4 max-w-xs hidden">
    <div class="flex justify-between items-start">
      <p class="text-sm">âœ¨ æ”¯æŒæ‰¹é‡å¤„ç† & AIæ¶¦è‰²ï¼Œæ•¬è¯·æœŸå¾…ï¼</p>
      <button onclick="this.parentElement.classList.add('hidden')" class="text-gray-500">&times;</button>
    </div>
  </div>

  <footer class="text-center py-4 text-gray-500 text-sm">
    <p>å…¬ä¼—å·ï¼š<strong>æ˜å¹´è¿˜è¦åšè®¾è®¡</strong></p>
    <img src="/static/assets/logo-qr.png" alt="å…¬ä¼—å·äºŒç»´ç " class="w-32 h-32 mx-auto mt-2 rounded border" onerror="this.style.display='none'">
    <p class="mt-2">Â© 2025 AIGCæ•£ä¿®_ç«¹ç›¸å·¦è¾¹</p>
  </footer>

  <!-- âœ… å…³é”®ï¼šæ­£ç¡®è·¯å¾„ -->
  <script src="/static/js/main.js"></script>
</body>
</html>