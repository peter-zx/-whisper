<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Whisper 字幕工坊</title>
  <link rel="stylesheet" href="/static/css/style.css" />
</head>
<body>

  <!-- 顶部标题 -->
  <div class="page-header">
    <h1>Whisper 字幕工坊</h1>
    <p class="slogan">AI 语音转字幕 · 本地部署 · 隐私安全</p>
  </div>

  <!-- 主容器 -->
  <div class="container">
    <!-- 左侧控制区 -->
    <div class="control-panel">
      <div class="card">
        <h3>使用配置</h3>
        <div class="card-content">
          <input type="file" id="fileInput" accept=".mp3,.wav,.m4a,.flac,.ogg,.webm,.mp4" style="display:none;" />
          <button id="browseBtn">📁 选择文件</button>
          <div id="fileName" class="file-name"></div>

          <div class="options">
            <label>模型：
              <select id="model">
                <option value="turbo">turbo（最快）</option>
                <option value="small">small</option>
                <option value="medium">medium</option>
                <option value="large">large</option>
              </select>
            </label>
            <label>语言：<input type="text" id="language" placeholder="自动检测" /></label>
            <label>
              任务：
              <select id="task">
                <option value="transcribe">转录（原语言）</option>
                <option value="translate">翻译成英文</option>
              </select>
            </label>
          </div>

          <button id="startBtn" class="btn-primary">▶ 开始转录</button>
          <div id="status" class="status">等待上传...</div>
        </div>
      </div>

      <div class="card">
        <h3>输出与历史</h3>
        <div class="card-content">
          <div id="downloadSection" style="display:none;">
            <h4>字幕下载</h4>
            <div id="downloadButtons"></div>
          </div>
          <div id="historySection">
            <h4>历史记录</h4>
            <p class="hint">暂无历史记录</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 右侧预览区 -->
    <div class="preview-area">
      <div id="resultText" class="result-text">转录结果将显示在这里...</div>
    </div>
  </div>

  <script src="/static/js/main.js"></script>
</body>
</html>